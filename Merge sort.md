# 归并排序

## 排序原理

不同于插入排序的增量方法，归并排序采用分治方法，将一个大问题分解成若干个子问题分而治之，最后合并这些子问题的结果。

首先将待排序数组分为（近似）等长的两个子数组，先对两个子数组进行排序，再将两个排好序的子数组合并。在排序子数组的时候依然采用这种策略，将子数组再划分为（近似）等长的子两个数组，先对子数组进行排序，然后合并，如此递归，直至子数组的长度为 1，则无需继续划分子数组，直接返回这个长度为 1 的子数组即可。

## 递归算法的复杂度分析

一般来讲，递归算法在递归终止处的时间复杂度为常量，在递归的过程中，复杂度取决于分割子问题的个数，子问题的时间复杂度，分割与合并的复杂度。可以用如下公式表述：
$$
T(n)=
\begin{cases}
    \begin{aligned}
        &c&,n\leq c\\
        &aT(\frac{n}{b}) + D(n) + C(n)&,n>c
    \end{aligned}
\end{cases}
$$

主问题被分解成 $a$ 个子问题，每个子问题的时间复杂度是主问题的 $\frac{1}{b}$，$D(n)$是分割主问题的时间复杂度，$C(n)$ 是合并子问题结果的时间复杂度。

## 缺点

- 递归算法难以调试
- 不是就地排序算法

## 一些改进

`Merge Sort` 在合并两个子数组的时候，如果一个子数组为空的时候，可以直接将另一个子数组全部复制回原数组。

插入排序虽然时间复杂度的量级更高，但是通常具有更小的常数系数，所以在小规模数组牌序时相对要快一些，这就为合并排序提供了如下的改进方法：当规模 $n$ 小于某一个常数时，对子数组采用插入排序，然后再合并。
